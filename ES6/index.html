<script></script>
<img id="test" src="https://codingapple1.github.io/kona.jpg" />;
<script>
  //성공 실패 판정 기계
  // let promise = new Promise(function (resolve, reject) {
  //   let img = document.querySelector('#test');

  //   img.addEventListener('load', function () {
  //     resolve();
  //   });

  //   img.addEventListener('error', function () {
  //     reject();
  //   });
  // });

  // promise
  //   .then(function () {
  //     console.log('success');
  //   })
  //   .catch(function () {
  //     conosole.log('fail');
  //   });

  fetch('https://codingapple1.github.io/hello.txt')
    .then((response) => {
      console.log('text->', response);
      return response.text();
    })
    .then((data) => {
      console.log('data', data);
    })
    .then(() => {
      fetch('https://codingapple1.github.io/hello2.txt')
        .then((response) => {
          return response.text();
        })
        .then((data) => {
          console.log('data2', data);
        });
    })
    .catch(function () {
      console.log('fetch 실패');
    });
</script>
